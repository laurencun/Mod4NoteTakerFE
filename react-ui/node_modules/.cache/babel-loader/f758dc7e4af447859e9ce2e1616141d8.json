{"ast":null,"code":"import _classCallCheck from\"/Users/lauren/Flatiron/note-taker-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lauren/Flatiron/note-taker-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/lauren/Flatiron/note-taker-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/lauren/Flatiron/note-taker-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import{connect}from'react-redux';import{currentUser}from'../actions/auth';import{fetchTodos,fetchCompleted}from'../actions/todoActions';import TodoIndex from'/Users/lauren/Flatiron/note-taker-fe/src/components/TodoIndex.js';import Button from'@material-ui/core/Button';var toggle=true;var MainContainer=/*#__PURE__*/function(_Component){_inherits(MainContainer,_Component);var _super=_createSuper(MainContainer);function MainContainer(){var _this;_classCallCheck(this,MainContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.showCompleted=function(){toggle=!toggle;if(toggle===false){_this.props.fetchCompleted();}else{_this.props.fetchTodos();}};return _this;}_createClass(MainContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var token=localStorage.getItem('my_app_token');if(!token){this.props.history.push('/login');}else{//get back user associated with token\nvar reqObj={method:'GET',headers:{Authorization:\"Bearer \".concat(token)}};fetch('http://localhost:3000/current_user',reqObj).then(function(res){return res.json();}).then(function(data){_this2.props.currentUser(data.user);});this.props.fetchTodos();}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[toggle===true?/*#__PURE__*/_jsx(Button,{style:{margin:10},variant:\"outlined\",size:\"smaller\",onClick:this.showCompleted,children:\"Show Completed\"}):/*#__PURE__*/_jsx(Button,{style:{margin:10},variant:\"outlined\",size:\"smaller\",onClick:this.showCompleted,children:\"Show All\"}),/*#__PURE__*/_jsx(TodoIndex,{todos:this.props.todos,handleEdit:this.handleEdit})]});}}]);return MainContainer;}(Component);var mapStateToProps=function mapStateToProps(state){return{todos:state.todos,auth:state.auth};};export default connect(mapStateToProps,{fetchTodos:fetchTodos,fetchCompleted:fetchCompleted,currentUser:currentUser})(MainContainer);","map":{"version":3,"sources":["/Users/lauren/Flatiron/note-taker-fe/src/containers/MainContainer.js"],"names":["React","Component","connect","currentUser","fetchTodos","fetchCompleted","TodoIndex","Button","toggle","MainContainer","showCompleted","props","token","localStorage","getItem","history","push","reqObj","method","headers","Authorization","fetch","then","res","json","data","user","margin","todos","handleEdit","mapStateToProps","state","auth"],"mappings":"orBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,WAAR,KAA0B,iBAA1B,CACA,OAAQC,UAAR,CAAoBC,cAApB,KAAyC,wBAAzC,CACA,MAAOC,CAAAA,SAAP,KAAsB,kEAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA,GAAIC,CAAAA,MAAM,CAAG,IAAb,C,GAEMC,CAAAA,a,uVAwBFC,a,CAAgB,UAAM,CAClBF,MAAM,CAAG,CAACA,MAAV,CACA,GAAIA,MAAM,GAAK,KAAf,CAAqB,CACrB,MAAKG,KAAL,CAAWN,cAAX,GACC,CAFD,IAGK,CACD,MAAKM,KAAL,CAAWP,UAAX,GACH,CACJ,C,sGA9BmB,iBAChB,GAAMQ,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAd,CACA,GAAG,CAACF,KAAJ,CAAU,CACV,KAAKD,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACC,CAFD,IAGI,CACA;AACA,GAAMC,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,KADG,CAEXC,OAAO,CAAE,CACLC,aAAa,kBAAYR,KAAZ,CADR,CAFE,CAAf,CAMAS,KAAK,CAAC,oCAAD,CAAuCJ,MAAvC,CAAL,CACCK,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAACG,IAAD,CAAU,CACZ,MAAI,CAACd,KAAL,CAAWR,WAAX,CAAuBsB,IAAI,CAACC,IAA5B,EACH,CAJD,EAKJ,KAAKf,KAAL,CAAWP,UAAX,GACC,CACJ,C,uCAYQ,CAEL,mBACI,uBACKI,MAAM,GAAK,IAAX,cACD,KAAC,MAAD,EAAQ,KAAK,CAAE,CAACmB,MAAM,CAAC,EAAR,CAAf,CAA4B,OAAO,CAAC,UAApC,CAA+C,IAAI,CAAC,SAApD,CAA8D,OAAO,CAAE,KAAKjB,aAA5E,4BADC,cAEA,KAAC,MAAD,EAAQ,KAAK,CAAE,CAACiB,MAAM,CAAC,EAAR,CAAf,CAA4B,OAAO,CAAC,UAApC,CAA+C,IAAI,CAAC,SAApD,CAA8D,OAAO,CAAE,KAAKjB,aAA5E,sBAHL,cAKI,KAAC,SAAD,EAAW,KAAK,CAAE,KAAKC,KAAL,CAAWiB,KAA7B,CAAoC,UAAU,CAAE,KAAKC,UAArD,EALJ,GADJ,CAUH,C,2BA9CuB5B,S,EAiD5B,GAAM6B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9BH,KAAK,CAAEG,KAAK,CAACH,KADiB,CAE9BI,IAAI,CAAED,KAAK,CAACC,IAFkB,CAAL,EAA7B,CAKA,cAAe9B,CAAAA,OAAO,CAAC4B,eAAD,CAAkB,CAAC1B,UAAU,CAAVA,UAAD,CAAaC,cAAc,CAAdA,cAAb,CAA6BF,WAAW,CAAXA,WAA7B,CAAlB,CAAP,CAAoEM,aAApE,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux'\nimport {currentUser} from '../actions/auth'\nimport {fetchTodos, fetchCompleted} from '../actions/todoActions'\nimport TodoIndex from '/Users/lauren/Flatiron/note-taker-fe/src/components/TodoIndex.js'\nimport Button from '@material-ui/core/Button'\n\nlet toggle = true\n\nclass MainContainer extends Component {\n\n    componentDidMount() {\n        const token = localStorage.getItem('my_app_token')\n        if(!token){\n        this.props.history.push('/login')\n        }\n        else{\n            //get back user associated with token\n            const reqObj = {\n                method: 'GET', \n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            }\n            fetch('http://localhost:3000/current_user', reqObj)\n            .then(res => res.json())\n            .then((data) => {\n                this.props.currentUser(data.user)\n            })\n        this.props.fetchTodos()\n        }\n    }\n\n    showCompleted = () => {\n        toggle = !toggle\n        if (toggle === false){\n        this.props.fetchCompleted()\n        }\n        else {\n            this.props.fetchTodos()\n        }\n    }\n\n    render() {\n\n        return (\n            <div >\n                {toggle === true ?\n                <Button style={{margin:10}} variant=\"outlined\" size='smaller' onClick={this.showCompleted}>Show Completed</Button>\n                :<Button style={{margin:10}} variant=\"outlined\" size='smaller' onClick={this.showCompleted}>Show All</Button>\n                }\n                <TodoIndex todos={this.props.todos} handleEdit={this.handleEdit}/>\n            </div>\n        )\n    \n    }\n}\n\nconst mapStateToProps = state => ({\n    todos: state.todos,\n    auth: state.auth\n})\n\nexport default connect(mapStateToProps, {fetchTodos, fetchCompleted, currentUser})(MainContainer)"]},"metadata":{},"sourceType":"module"}
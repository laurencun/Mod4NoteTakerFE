{"ast":null,"code":"import _defineProperty from\"/Users/lauren/Flatiron/note-taker-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/lauren/Flatiron/note-taker-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lauren/Flatiron/note-taker-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/lauren/Flatiron/note-taker-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/lauren/Flatiron/note-taker-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import{Button,Box}from'@material-ui/core';import{login_success}from'../actions/auth';import{connect}from'react-redux';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',error:null};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.login=function(){var reqObj={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_this.state)};fetch('http://localhost:3000/auth',reqObj).then(function(resp){return resp.json();}).then(function(data){if(data.error){_this.setState({error:data.error});}else{_this.props.login_success(data);_this.props.history.push('/');localStorage.setItem('my_app_token',data.token);}});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{style:{margin:'10vh'},children:[this.state.error?/*#__PURE__*/_jsx(\"h4\",{style:{color:'red'},children:this.state.error}):null,/*#__PURE__*/_jsx(Box,{style:{backgroundColor:'#E0AB78',border:\"1px solid black\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:50,align:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{style:{padding:5},onChange:this.handleChange,name:\"username\",type:\"text\",placeholder:\"Username\",value:this.state.username}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{style:{padding:5},onChange:this.handleChange,name:\"password\",type:\"text\",placeholder:\"Password\",value:this.state.password}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{style:{margin:10},variant:\"outlined\",size:\"small\",onClick:this.login,children:\"Login\"})]})]})})]});}}]);return Login;}(Component);var mapDispatchToProps={login_success:login_success};export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/lauren/Flatiron/note-taker-fe/src/components/Login.js"],"names":["React","Component","Button","Box","login_success","connect","Login","state","username","password","error","handleChange","event","setState","target","name","value","login","reqObj","method","headers","body","JSON","stringify","fetch","then","resp","json","data","props","history","push","localStorage","setItem","token","margin","color","backgroundColor","border","padding","align","mapDispatchToProps"],"mappings":"i1BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAiBC,GAAjB,KAA4B,mBAA5B,CACA,OAAQC,aAAR,KAA4B,iBAA5B,CACA,OAASC,OAAT,KAAwB,aAAxB,C,GAGMC,CAAAA,K,uTAEFC,K,CAAQ,CACJC,QAAQ,CAAE,EADN,CAEJC,QAAQ,CAAE,EAFN,CAGJC,KAAK,CAAE,IAHH,C,OAMRC,Y,CAAe,SAACC,KAAD,CAAW,CACtB,MAAKC,QAAL,oBACKD,KAAK,CAACE,MAAN,CAAaC,IADlB,CAC0BH,KAAK,CAACE,MAAN,CAAaE,KADvC,GAGH,C,OAEDC,K,CAAQ,UAAM,CACV,GAAMC,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,MADG,CAEXC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFE,CAKXC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,MAAKhB,KAApB,CALK,CAAf,CAQEiB,KAAK,CAAC,4BAAD,CAA+BN,MAA/B,CAAL,CACCO,IADD,CACM,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EADV,EAECF,IAFD,CAEM,SAAAG,IAAI,CAAI,CACZ,GAAIA,IAAI,CAAClB,KAAT,CAAgB,CACd,MAAKG,QAAL,CAAc,CACZH,KAAK,CAAEkB,IAAI,CAAClB,KADA,CAAd,EAGD,CAJD,IAIO,CACL,MAAKmB,KAAL,CAAWzB,aAAX,CAAyBwB,IAAzB,EACA,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACAC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAqCL,IAAI,CAACM,KAA1C,EACD,CACF,CAZD,EAaL,C,wEAEQ,CAEL,mBACI,aAAK,KAAK,CAAE,CAACC,MAAM,CAAE,MAAT,CAAZ,WACH,KAAK5B,KAAL,CAAWG,KAAX,cAAmB,WAAI,KAAK,CAAE,CAAC0B,KAAK,CAAE,KAAR,CAAX,UAA4B,KAAK7B,KAAL,CAAWG,KAAvC,EAAnB,CAAwE,IADrE,cAEA,KAAC,GAAD,EAAK,KAAK,CAAE,CAAC2B,eAAe,CAAE,SAAlB,CAA6BC,MAAM,CAAE,iBAArC,CAAZ,uBACA,aAAK,KAAK,CAAE,CAACC,OAAO,CAAC,EAAT,CAAaC,KAAK,CAAE,QAApB,CAAZ,wBACI,+BADJ,cAEI,qCACI,cAAO,KAAK,CAAE,CAACD,OAAO,CAAC,CAAT,CAAd,CAA2B,QAAQ,CAAE,KAAK5B,YAA1C,CAAwD,IAAI,CAAC,UAA7D,CAAwE,IAAI,CAAC,MAA7E,CAAoF,WAAW,CAAC,UAAhG,CAA2G,KAAK,CAAE,KAAKJ,KAAL,CAAWC,QAA7H,EADJ,cAC4I,aAD5I,cAEI,cAAO,KAAK,CAAE,CAAC+B,OAAO,CAAC,CAAT,CAAd,CAA2B,QAAQ,CAAE,KAAK5B,YAA1C,CAAwD,IAAI,CAAC,UAA7D,CAAwE,IAAI,CAAC,MAA7E,CAAoF,WAAW,CAAC,UAAhG,CAA2G,KAAK,CAAE,KAAKJ,KAAL,CAAWE,QAA7H,EAFJ,cAE4I,aAF5I,cAGI,KAAC,MAAD,EAAQ,KAAK,CAAE,CAAC0B,MAAM,CAAC,EAAR,CAAf,CAA4B,OAAO,CAAC,UAApC,CAA+C,IAAI,CAAC,OAApD,CAA4D,OAAO,CAAE,KAAKlB,KAA1E,mBAHJ,GAFJ,GADA,EAFA,GADJ,CAeH,C,mBAvDehB,S,EA0DpB,GAAMwC,CAAAA,kBAAkB,CAAG,CACvBrC,aAAa,CAAbA,aADuB,CAA3B,CAIA,cAAeC,CAAAA,OAAO,CAAC,IAAD,CAAOoC,kBAAP,CAAP,CAAkCnC,KAAlC,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Button, Box } from '@material-ui/core';\nimport {login_success} from '../actions/auth';\nimport { connect } from 'react-redux';\n\n\nclass Login extends Component {\n\n    state = {\n        username: '', \n        password: '',\n        error: null\n    }\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name] : event.target.value\n        })\n    }\n\n    login = () => {\n        const reqObj = {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.state)\n          }\n      \n          fetch('http://localhost:3000/auth', reqObj)\n          .then(resp => resp.json())\n          .then(data => {\n            if (data.error) {\n              this.setState({\n                error: data.error\n              })\n            } else {\n              this.props.login_success(data)\n              this.props.history.push('/')\n              localStorage.setItem('my_app_token', data.token)\n            }\n          })\n    }\n\n    render() {\n\n        return (\n            <div style={{margin: '10vh'}}>\n        {this.state.error ? <h4 style={{color: 'red'}}>{this.state.error}</h4> : null}\n            <Box style={{backgroundColor: '#E0AB78', border: \"1px solid black\"}}>\n            <div style={{padding:50, align: 'center'}}>\n                <h2>Welcome</h2>\n                <form >\n                    <input style={{padding:5}} onChange={this.handleChange} name='username' type='text' placeholder=\"Username\" value={this.state.username}/><br/>\n                    <input style={{padding:5}} onChange={this.handleChange} name='password' type='text' placeholder=\"Password\" value={this.state.password}/><br/>\n                    <Button style={{margin:10}} variant=\"outlined\" size='small' onClick={this.login}>Login</Button>\n                </form>\n            </div>\n            </Box>\n            </div>\n        )\n    }\n}\n\nconst mapDispatchToProps = {\n    login_success\n}\n\nexport default connect(null, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}